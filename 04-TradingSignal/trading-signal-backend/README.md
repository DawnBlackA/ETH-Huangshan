1. 识别 TF 用户。（调用 TF 登录接口）

2. ~~TS 调用 TF 来订阅，取消订阅~~

   1. ~~需要获得 flow 的列表~~
   2. ~~TF 需要记录订阅信息~~

3. TF 调用 TS 来订阅，取消订阅。

   1. ~~怎么知道 TS 有没有订阅过~~
   2. 参数是用户ID，flow ID。
   3. 订阅成功，返回 200

4. ~~TF 调用 TS，需要买入，卖出。~~

   1. ~~买入卖出的时候，调用链上的合约？合约地址怎么知道？(调用 TF 接口)~~
      1. ~~为什么需要 TF 调用 TS 在调用 TF 呢？这在 TS 当中什么也没做，什么都没记录。~~
   2. ~~买入卖出多少金额？（暂缓）~~
   3. ~~TS 怎么知道，有无足够的余额买入？（暂缓）~~
   4. TF 有没有买入次数上限的限制？如果有，怎么知道每个用户是否达到买入上限？（暂时没有）
   5. TS 调用 TF，查询当前用户，在每个 flow 上的盈利情况。

5. TS 记录用户订阅了那些 flow。

   1. 提供接口给 TF 查询。

6. TF 可以查询 flow 有哪些 user 订阅

   

   ---

   

7. TS 和 TF 之间的通信怎么加密？一个产品的阶段可以使用 MQ，如果要兼容其他产品，使用 http?怎么加密。